<!--
  Generated template for the EditOfferPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <ion-title>
      <span *ngIf="offer.subject">{{offer.subject}}</span>
      <span *ngIf="isNewOffer">Oferta Nueva</span>
    </ion-title>
</ion-navbar>

</ion-header>

<div *ngIf="showSplash" class="splash">
    <div class="spinner"><ion-spinner></ion-spinner></div>
</div>

<ion-content padding>

    <ion-grid *ngIf="newPhoto">
        <ion-row align-items-center>
            <ion-col text-center>
                <img [src]=newPhoto>                
            </ion-col>
        </ion-row>
        <ion-row align-items-center>
            <ion-col text-center>
                <button ion-button icon-only round (click)="deletePhoto()">
                    <ion-icon name="trash"></ion-icon>
                </button>
                <div text-center>Eliminar</div>    
            </ion-col>
        </ion-row>
    </ion-grid>

    <ion-grid *ngIf="galleryPhoto">
        <ion-row align-items-center>
            <ion-col text-center>
                <img [src]=galleryPhoto *ngIf="galleryPhoto" />
            </ion-col>
        </ion-row>
        <ion-row align-items-center>
            <ion-col text-center>
                <button ion-button icon-only round (click)="deletePhoto()">
                    <ion-icon name="trash"></ion-icon>
                </button>
                <div text-center>Eliminar</div>    
            </ion-col>
        </ion-row>
    </ion-grid>











    




    <ion-grid>
        <ion-row align-items-center>
            <ion-col text-center>
                <button ion-button icon-only round>
                    <ion-icon name="list"></ion-icon>
                </button>
                <div text-center>Ofertas</div>
            </ion-col>
            <ion-col text-center>
                <button ion-button icon-only round (click)="takePhoto()">
                    <ion-icon name="camera"></ion-icon>
                </button>
                <div text-center>Cámara</div>
                
            </ion-col>
            <ion-col text-center>
                <button ion-button icon-only round (click)="takePicture()">
                    <ion-icon name="images"></ion-icon>
                </button>
                <div text-center>Galería</div>
                
            </ion-col>
        </ion-row>
    </ion-grid>





        <ion-grid *ngIf="offerNew.picture_path">
                <ion-row align-items-center>
                    <img src="{{pictures_path}}{{offerNew.picture_path}}">
                </ion-row>
                <ion-row align-items-center>
                    
                    <ion-col text-center>
                        <button ion-button icon-only round (click)="deleteOldImage()">
                            <ion-icon name="trash"></ion-icon>
                        </button>
                        <div text-center>Eliminar</div>    
                    </ion-col>
                </ion-row>
            </ion-grid>

    <form (ngSubmit)="onSubmitSaveOffer(offerDataForm)" #offerDataForm="ngForm">           
                                      


            <ion-list>
                <ion-item>
                  <ion-label>Categoría</ion-label>
                  <ion-select [(ngModel)]="offerNew.main_subcategory" #main_subcategory="ngModel" name="main_subcategory" required>
                    <ion-option *ngFor="let category of categories" [value]="category.id">{{category.name}}</ion-option>
                  </ion-select>
                </ion-item>
              </ion-list>              

            <ion-item>
                <ion-label floating>Título</ion-label>
                <ion-input type="text" name="subject" id="subject" #subject="ngModel" [(ngModel)]="offerNew.subject" required></ion-input>
            </ion-item>

            <ion-item>
                <ion-label floating>Descripción</ion-label>
                <ion-input type="text" name="description" id="description" #description="ngModel" [(ngModel)]="offerNew.description" required></ion-input>
            </ion-item>

            <ion-item>
                <ion-label floating>Precio</ion-label>
                <ion-input type="text" name="price" id="price" #price="ngModel" [(ngModel)]="offerNew.price" required></ion-input>
            </ion-item>

            <ion-item>
                <ion-label floating>Precio Especial</ion-label>
                <ion-input type="text" name="specialPrice" id="specialPrice" #specialPrice="ngModel" [(ngModel)]="offerNew.specialPrice" required></ion-input>
            </ion-item>

            <ion-item>
                <button ion-button block type="submit" [disabled]="!offerDataForm.form.valid">Guardar Oferta</button>
            </ion-item>
    
        </form>

<!--    <ion-item>
        <a ion-button block (click)="saveOffer()">Guardar Oferta</a>
    </ion-item>
-->

</ion-content>
